<!DOCTYPE html>

<html>
    <head>
          
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <meta name="description" content="Hum. Songwriting for iPhone.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"> 

  <link rel="shortcut icon" href="../../favicon.ico">

        <title>Fighting iOS7&#8217;s Control Center with UIButtons at the bottom of the screen.  &ndash;  Hum. – Songwriting for iPhone.</title>

        <link rel="stylesheet" href="../../_/css/secondary.css">
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,700" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Merriweather:300" rel="stylesheet">

        <meta property="og:type" content="company" />
        <meta property="og:title" content="Hum" />
        <meta property="og:image" content="/_/img/facebook.jpg" />
        <meta property="og:site_name" content="Hum" />
        <meta property="og:description" content="Hum is an iPhone app that combines note-taking and audio recording into a single app for capturing and organizing all your songwriting ideas." />
        <meta property="og:url" content="http://justhum.com/" />

        <meta name='robots' content='max-image-preview:large' />
<link rel='dns-prefetch' href='https://s.w.org' />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/justhum.com\/blog\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.7.2"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../wp-includes/css/dist/block-library/style.min%EF%B9%96ver=5.7.2.css' type='text/css' media='all' />
<link rel="https://api.w.org/" href="../wp-json/index.json" /><link rel="alternate" type="application/json" href="../wp-json/wp/v2/posts/171.json" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc.php%EF%B9%96rsd.xml" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.7.2" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='index.html' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embed%EF%B9%96url=https%EF%B9%95%EA%A4%B7%EA%A4%B7justhum.com%EA%A4%B7blog%EA%A4%B7fighting-ios7-control-center-uibuttons%EA%A4%B7.json" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed%EF%B9%96url=https%EF%B9%95%EA%A4%B7%EA%A4%B7justhum.com%EA%A4%B7blog%EA%A4%B7fighting-ios7-control-center-uibuttons%EA%A4%B7&amp;format=xml.xml" />
    </head>

    <body class="post-template-default single single-post postid-171 single-format-standard">

      <div class="navigation-mobile"></div>

  <div class="header">
    <div class="navigation-wrapper">
      <h1><a href="../../index.html">Hum.</a></h1>

      <div class="navigation">
        <ul class="duplicate">
          <li><a href="../../about/index.html" title="About" >About</a></li>
          <li><a href="../index.html" title="Blog" class="current">Blog</a></li>
          <li><a href="../../support/index.html" title="Support" >Support</a></li>
          <li><a href="../../linernotes/index.html" title="Liner Notes" >Liner Notes</a></li>
        </ul>
      </div>

      <a href="https://itunes.apple.com/us/app/hum/id796154884?ls=1&amp;mt=8" title="Download on the App Store" class="appstore_btn" target="_blank">Download on <br>the App Store</a>

      <a href="#" class="toggle-btn"></a>
    </div>
  </div>

        <div class="container">
			<div id="post-171" class="post-171 post type-post status-publish format-standard hentry category-uncategorized" class="post">
	<div class="entry-meta">
	<div class="entry_author_image"><img src="../wp-content/authors/aaronshekey-10.png"  alt="Aaron Shekey" /></div>
	<span class="author">By Aaron Shekey</span>
	<span class="entry-date">on <abbr class="published" title="2013-12-26T13:59:48-0600">December 26, 2013</abbr></span>
	</div>
	<h1 class="entry-title"><a href="index.html" title="Read Fighting iOS7&#8217;s Control Center with UIButtons at the bottom of the screen." rel="bookmark">Fighting iOS7&#8217;s Control Center with UIButtons at the bottom of the screen.</a></h1>
	<div class="entry-content">
<p>Do me a favor and load up the calendar app on iOS7. Now, at the bottom tap &#8220;Today&#8221;. Did the word &#8220;Today&#8221; highlight? No? Try it again. And again. Wait, it just worked? Press it again. I bet it didn&#8217;t work. It&#8217;s completely random, and depends on how quickly you press the button.</p>
<p>The same goes for <em>any</em> button in the bottom 50 or so pixels of the screen. As of iOS 7.0.4, both the back gesture and the one for bringing up the Control Center eat highlighted button states. Not only do we have borderless buttons by default, but only about 10% of the time do they have a highlighted state. This is a fundamental flaw in UX.</p>
<p>In Hum we took cues from the UISlider Control to create nice, tappable buttons. We have an obvious pressed or highlighted state as well. These states are important for UI feedback, if only to confirm that I did indeed press a button. These controls don&#8217;t need to be as obvious as we&#8217;ve designed for Hum, but it&#8217;s important that <em>something</em> happens.</p>
<div id="attachment_177" style="width: 303px" class="wp-caption aligncenter"><img aria-describedby="caption-attachment-177" src="../wp-content/uploads/2013/12/buttons1.png" alt="Hum&#039;s Buttons" width="293" class="size-full wp-image-177" srcset="../wp-content/uploads/2013/12/buttons1.png 586w, ../wp-content/uploads/2013/12/buttons1-300x264.png 300w" sizes="(max-width: 586px) 100vw, 586px" /><p id="caption-attachment-177" class="wp-caption-text">Hum&#8217;s Buttons</p></div>
<p>So if the highlight events are being eaten by the back and control center gestures at an OS level, how am I supposed to give the user feedback that the button was even pressed?</p>
<h3>A workaround.</h3>
<p>We&#8217;ve found a pretty simple workaround for this. Instead of using standard properties like button.highlighted = YES or button.selected = YES that don&#8217;t work anyway in that bottom band, we simply fake a highlight by first delaying the final method that&#8217;s called on button press. Simply set the background image of the unhighlighted button to the highlighted state with an unperceived delay BEFORE we call the final method. It looks like this:</p>
<pre>
[self.stopRecordingButton setImage:[UIImage imageNamed:@"stopRecordingButton"] forState:UIControlStateNormal];
[self.stopRecordingButton setImage:[UIImage imageNamed:@"stopRecordingButton-highlighted"] forState:UIControlStateHighlighted];
[self.stopRecordingButton addTarget:self action:@selector(stopRecordingDelay) forControlEvents:UIControlEventTouchUpInside];

-(void)stopRecordingDelay
{
    [self.stopRecordingButton setImage:[UIImage imageNamed:@"stopRecordingButton-highlighted"] forState:UIControlStateNormal];

    [self performSelector:@selector(stopRecording) withObject:nil afterDelay:0.025f];
}

- (void)stopRecording
{
    [self.stopRecordingButton setImage:[UIImage imageNamed:@"stopRecordingButton"] forState:UIControlStateNormal];

    //Do real stuff
}
</pre>
<p>When creating our buttons we set two images for the button, one for normal, the other for highlighted. Pay attention to the image names.</p>
<p>We then tell the button to call an intermediary method that sets the unhighlighted button&#8217;s background to the highlighted state, faking the standard highlighting interaction that doesn&#8217;t work in that 50px space at the bottom of the screen. After a tiny, unperceived delay of .025 seconds we then call our real method and reset our button, if needed, to the original, unhighlighted state.</p>
<p>Now, regardless of how quickly the user taps the buttons within that bottom band they&#8217;ll receive the feedback that their button was pressed.</p>
<p>Not the worst hack on the planet, I hope.</p>
</div></div> 		<div id="nav-below" class="navigation">
	<div class="nav-next"><a href="../hum-will-be-available-on-january-27th/index.html" title="next post: Hum Will Be Available on January 27th">&larr; Hum Will Be Available on...</a></div>
	<div class="nav-previous"><a href="../private-beta/index.html" title="previous post: Private Beta">Private Beta &rarr;</a></div>
</div>
    </div>

    <div class="section footer">
      <h1 class="logo"><a href="../../index.html">Hum</a></h1>
      <h2>Your Songwriting, Organized</h2>

      <form action="https://justhum.us5.list-manage.com/subscribe/post?u=66c48ed94c753b5fb093c3807&amp;id=c7fec5ee88" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form">
        <input type="email" value="" name="EMAIL" class="email" id="mc-email" placeholder="Email Address" required spellcheck="false">
        <button type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe">Get<br />Updates</button>
        <label for="mc-email"></label>
      </form>

      <ul class="social">
        <li><a class="twitter-btn" target="_blank" href="https://twitter.com/justhum">Twitter</a></li>
      </ul>

      <p class="credit">
        &copy; 2013-2021 Just Hum, LLC. Made in the Midwest.<br>
        <a href="../../terms/index.html">Terms of Use &amp; Privacy</a>
      </p>
    </div>

    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="../../_/js/main.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-9522772-11', 'justhum.com');
      ga('send', 'pageview');
    </script>
  </body>
</html>

<!-- Dynamic page generated in 0.692 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2021-05-22 18:37:30 -->

<!-- Compression = gzip -->